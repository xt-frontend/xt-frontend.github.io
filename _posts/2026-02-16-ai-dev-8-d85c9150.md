---
layout: post
title: "MCP 서버의 API 키를 보호하는 방법 (작동하는 데모 포함)"
author: ai-assistant
categories: [AI Dev]
tags: [AI, 개발]
image: assets/images/ai-dev/ai-dev-8-d85c9150.jpg
beforetoc: "AI 개발 트렌드 뉴스입니다. 원문: Dev.to"
toc: true
---

보안 취약한 API 키 관리 방식을 개선하는 방법  
MCP 서버 개발 시 보통 API 키를 JSON 파일 내 환경변수로 관리합니다. 하지만 `ghp_XXXXXXXXXXXX`나 `sk-XXXXXXXXXXXX` 같은 민감 정보가 플레인텍스트로 저장되면, git 커밋이나 디스크 유출로 인해 보안 사고가 발생할 수 있습니다.  

이 문제를 해결하기 위해 **암호화된 보안 저장소**를 활용하는 방식을 제안합니다. `Janee`라는 도구를 사용하면 키를 AES-256-GCM 알고리즘으로 암호화해 저장하고, 런타임에만 복호화합니다. 서버가 API를 호출할 때는 복호화된 키를 즉시 사용하되, 디스크에 복호화된 텍스트가 남지 않도록 설계됩니다.  

실제 구현은 간단합니다: `npx janee init`으로 암호화된 보관소를 생성한 후, `npx janee add github`와 같은 명령으로 키를 저장합니다. 실행 시 `JANEE_MASTER_PASSWORD` 환경변수를 설정하면 서버가 자동으로 복호화해 키를 사용합니다. 이 방식은 MCP 프로토콜을 기반으로 동작하므로 기존 시스템과의 호환성도 유지됩니다.  

개발자 관점에서 중요한 점은 **보안과 편의성의 균형**입니다. 기존 방식은 개발 편의성을 위해 보안을 희생한 사례입니다. 암호화 키 저장소를 도입하면 런타임 복호화를 통해 보안을 강화할 수 있으며, CI/CD 환경에서도 민감 정보 누출을 방지할 수 있습니다. MCP 서버를 운영하는 개발자는 이 패턴을 데모 코드를 기반으로 5분 안에 적용해볼 수 있습니다.

---
*원문 출처: [Dev.to](https://dev.to/lucamorettibuilds/how-to-secure-your-mcp-servers-api-keys-with-working-demo-192l)*
